
给一字符串，串中不能出现三个连续一样的字母，也不能出现AABB，即不能alll,AABB，出现则删除最后一位，即all,AAB
```javascript 
function test2(str){
  let num = 1;
 let arr=[];
 arr.push(str[0]);
 for(let i=1;i<str.length;i++){
   if(arr[arr.length-1]!==str[i]){
     arr.push(str[i])
     num=1;
   }else{
    num++;
    if(num==3){
      num=1;
    }
    else{
      arr.push(str[i]);

    }
   }
 }
var arr2=[...arr.splice(0,3)];
var arr3=[];
while(arr.length!=0){
arr2.push(...arr.splice(0,1))
if(arr2.length==4){
    if(arr2[0]==arr2[1]&&arr2[2]==arr2[3]){
      // arr3.push(...arr2);
      arr2.length=3;
    }else{
      arr3.push(...arr2.splice(0,2));
      
    }
}

}
arr3.push(...arr2);
var ss = arr3.join('')
console.log(arr3)

console.log('ss:',ss)
// console.log(arr3)

}
test2('aabbb')

```